Fancybox.bind("[data-fancybox]",{});let animationItems=document.querySelectorAll(".animation-item");if(0<animationItems.length){function onEntry(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("animation-active")})}let e={threshold:[.5]},t=new IntersectionObserver(onEntry,e);for(let e of animationItems)t.observe(e)}let scrollWidthFunc=()=>{var e=window.innerWidth-document.body.clientWidth;document.querySelector("html").style.paddingRight=e+"px"},scrollTop=document.querySelector(".scroll-top");scrollTop&&scrollTop.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".header"),o=t.querySelector(".header__top"),n=o.offsetHeight;function e(){var e=t.offsetHeight;window.scrollY>e?!o.classList.contains("hide")&&1460<window.innerWidth&&(t.classList.add("shrink"),o.classList.add("hide"),o.style.height="0px",o.style.opacity="0",o.style.overflow="hidden"):(t.classList.remove("shrink"),o.style.height=n+"px",o.classList.remove("hide"),o.style.opacity="1",o.style.overflow="visible",t.classList.remove("pad"))}let l=!1;window.addEventListener("scroll",()=>{l||(window.requestAnimationFrame(()=>{e(),l=!1}),l=!0)}),window.addEventListener("resize",()=>{n=o.offsetHeight,e()}),e()}),document.addEventListener("DOMContentLoaded",function(){let n=document.querySelector(".burger__menu");if(n){let e=document.querySelector(".header__menu"),t=document.querySelector(".header"),o=document.querySelector(".header__plashka");n.addEventListener("click",()=>{n.classList.contains("burger__menu--active")?(o&&(o.style.display="block"),document.body.classList.remove("burger-lock")):(o&&(o.style.display="none"),document.body.classList.add("burger-lock")),e.classList.toggle("header__menu--active"),n.classList.toggle("burger__menu--active"),t.classList.toggle("header--active"),document.querySelector("html").classList.toggle("burger-lock")})}let o=document.querySelectorAll(".hide-item>button");function l(e){document.body.classList.remove("lock"),document.querySelector("html").classList.remove("burger-lock"),document.querySelector("html").removeAttribute("style"),document.querySelector("header").removeAttribute("style"),e.closest(".hide-item").classList.remove("hide-item--active"),header.classList.remove("header--active")}function t(){requestAnimationFrame(()=>{document.querySelectorAll(".header__submenu_more-btn")&&document.querySelectorAll(".header__submenu_more-btn").forEach(e=>{e.previousElementSibling.scrollHeight<=140?e.style.display="none":e.style.display="block"})})}o.forEach(t=>{t.addEventListener("click",e=>{header.classList.add("header--active"),document.querySelector("html").addEventListener("click",function(e){e.target.closest(".header__nav_list")||l(t)}),t.closest(".hide-item").classList.contains("hide-item--active")?l(t):(o.forEach(e=>e.closest(".hide-item").classList.remove("hide-item--active")),t.closest(".hide-item").classList.add("hide-item--active"),scrollWidthFunc(),document.body.classList.add("lock"),document.querySelector("html").classList.add("burger-lock"))})}),document.querySelector(".hide-item_service").addEventListener("click",e=>{e&&t()}),document.querySelectorAll(".header__submenu_more-btn").forEach(e=>{e&&e.addEventListener("click",function(e){e.stopPropagation();e=this.previousElementSibling;e&&e.classList.contains("header__submenu_tab-content_item")&&(e.classList.toggle("open"),e.classList.contains("open")?this.textContent="Скрыть":this.textContent="Еще")})});let c=document.querySelectorAll(".header__submenu_tab-btn"),s=document.querySelectorAll(".header__submenu_tab-content");for(let e=0;e<c.length;e++)c[e].style.order=2*e+1;for(let e=0;e<s.length;e++)s[e].style.order=2*e+2;if(0<c.length)for(let e=0;e<c.length;e++)c[e].addEventListener("click",()=>{c[e].classList.contains("active")||(s.forEach(e=>{e.classList.remove("active")}),c.forEach(e=>{e.classList.remove("active")}),c[e].classList.add("active"),s[e].classList.add("active"),t())});function r(e){e.classList.remove("open"),setTimeout(()=>{e.classList.contains("open")||e.classList.remove("active")},400),document.body.classList.remove("lock"),document.querySelector("html").style.paddingRight=0,document.querySelector("html").classList.remove("lock"),document.querySelector("header").removeAttribute("style")}0<c.length&&c[0].click();var e=document.querySelectorAll(".popup-btn");let a=document.querySelectorAll(".popup"),i=document.querySelector(".original-title").innerHTML,d=(document.querySelectorAll(".close-popup-btn").forEach(function(e){e.addEventListener("click",function(e){r(e.target.closest(".popup"))})}),e.forEach(function(l){l.addEventListener("click",function(e){e.preventDefault();var t,o=e.currentTarget.dataset.path;let n=document.querySelector(`[data-target="${o}"]`);n&&(a.forEach(function(e){r(e),e.addEventListener("click",function(e){e.target.closest(".popup__content")||r(e.target.closest(".popup"))})}),n.classList.add("active"),setTimeout(()=>{n.classList.add("open")},10),"popup-change"==n.getAttribute("data-target")&&(o=n.querySelector(".original-title"),l.classList.contains("change-item__btn")?l.classList.contains("doctor__btn-js")?(t=l.closest(".change-item").querySelector(".change-item__title"),o.innerHTML="Записаться на приём к врачу: "+t.innerHTML):l.classList.contains("change-item__btn_current")?o.textContent=l.textContent:(t=l.closest(".change-item").querySelector(".change-item__title"),o.innerHTML=t.innerHTML):o.innerHTML=i),"popup-jobs"==n.getAttribute("data-target")&&(t=l.closest(".jobs__items"),o=n.querySelector(".jobs__inner_original"))&&t.querySelector(".jobs__inner")&&(o.innerHTML=t.querySelector(".jobs__inner").innerHTML),e.stopPropagation(),scrollWidthFunc(),document.querySelector("html").classList.add("lock"))})}),[{id:"map1",placeholderId:"map-placeholder1",placemarks:[{coords:[55.746988,37.596051],hint:"Пункт А",balloon:"Описание пункта А"},{coords:[55.742715,37.655609],hint:"Пункт Б",balloon:"Описание пункта Б"},{coords:[55.762715,37.613609],hint:"Пункт В",balloon:"Описание пункта В"}]},{id:"map2",placeholderId:"map-placeholder2",placemarks:[{coords:[55.755819,37.617644],hint:"Выездной нарколог 24",balloon:"Москва, ул. Максима Горького, д. 68/49"}]}]);function u(e){var t=document.getElementById(e.placeholderId);t?(t.addEventListener("mouseenter",()=>m(e),{once:!0}),t.addEventListener("click",()=>m(e),{once:!0})):m(e)}function m(e){var t=document.getElementById(e.placeholderId);t&&t.remove(),ymaps.ready(function(){let t=new ymaps.Map(e.id,{center:e.placemarks[0].coords,zoom:13,controls:[]});e.placemarks.forEach(e=>{e=new ymaps.Placemark(e.coords,{hintContent:e.hint,balloonContent:e.balloon},{iconLayout:"default#image",iconImageHref:"assets/img/icons/map-pin.png",iconImageSize:[30,40],iconImageOffset:[-15,-20]});t.geoObjects.add(e)}),t.behaviors.disable(["scrollZoom"])})}document.querySelector('[src*="api-maps.yandex.ru"]')?d.forEach(e=>u(e)):((e=document.createElement("script")).type="text/javascript",e.src="https://api-maps.yandex.ru/2.1/?lang=ru_RU",e.onload=()=>d.forEach(e=>u(e)),document.head.appendChild(e));var e=document.querySelectorAll(".section-show"),e=(e&&e.forEach(e=>{let l=e.querySelectorAll(".card-show"),c=e.querySelector(".btn-show");if(l&&c){let o=8,t=4,n=(window.innerWidth<1200&&(o=6,t=3),o);l.forEach((e,t)=>{t>=o&&(e.style.display="none")}),c.addEventListener("click",function(){for(let e=n;e<n+t;e++)l[e]&&(l[e].style.display="");(n+=t)>=l.length&&(c.style.display="none")}),l.length<=t&&(c.style.display="none")}}),document.querySelector("#widget-close")),e=(e&&e.addEventListener("click",()=>{document.querySelector("#popup-widget").classList.toggle("close")}),document.querySelectorAll("input[type=search]")),h=(0<e.length&&e.forEach(s=>{let r=s.closest(".search-wrapper");if(r){let t=r.querySelector(".popup__search-result"),l=r.querySelector(".popup__search"),c=t.querySelector(".no-results-message");console.log(t),console.log(l),console.log(c),console.log("fdgbdf"),s.addEventListener("input",function(){let o=s.value.toUpperCase();var e=r.querySelectorAll(".search-list");let n=0;e.forEach(e=>{var t=e.getElementsByTagName("li");for(let e=0;e<t.length;e++)-1<t[e].querySelector(".search-name").innerHTML.toUpperCase().indexOf(o)?(t[e].classList.remove("none"),n++):t[e].classList.add("none")}),c.classList.toggle("none",0<n),""===s.value.trim()?(t.classList.add("none"),l.classList.remove("none")):(t.classList.remove("none"),l.classList.add("none"))}),document.addEventListener("click",e=>{r.contains(e.target)||t.classList.add("none")})}}),document.getElementsByClassName("accordion"));for(let e=0;e<h.length;e++)h[e]&&h[e].addEventListener("click",function(){var e,t=this.querySelector(".accordion__content")||this.parentElement.querySelector(".accordion__content");t.classList.contains("accordion__content--active")?(t.classList.remove("accordion__content--active"),this.classList.remove("accordion--active"),t.style.maxHeight="0"):(t.classList.add("accordion__content--active"),this.classList.add("accordion--active"),e=t.scrollHeight,t.style.maxHeight=e+"px")});e=document.querySelectorAll(".tab-btn");function y(e,t,o){let n=Array.from(document.querySelectorAll(t)).map(e=>Array.from(e.querySelectorAll('input[type="checkbox"]:checked')).map(e=>e.id));document.querySelectorAll(e).forEach(function(e){let t=e.dataset.categories?e.dataset.categories.split(" "):[];var o=n.every(e=>0===e.length||e.some(e=>t.includes(e)));e.style.display=o?"":"none"});t=document.querySelectorAll(e+':not([style*="display: none"])').length,e=document.querySelector(o);e&&(e.textContent=t),v()}function p(){var e=document.querySelectorAll(".quantity-card"),o=document.querySelector(".quantity span");if(o){let t=0;e.forEach(e=>{null!==e.offsetParent&&t++}),o.textContent=t}}0<e.length&&(e[0].click(),e.forEach(e=>{e&&e.addEventListener("click",function(e){var t,o,n,l;l=(t=this).closest(".tab"),t.classList.contains("active")||(o=t.dataset.id,o=l.querySelectorAll(`.tab-content[data-id="${o}"]`),(n=l.querySelector(".active"))&&n.classList.remove("active"),l.querySelectorAll(".active").forEach(e=>e.classList.remove("active")),t.classList.add("active"),o.forEach(e=>e.classList.add("active"))),p()})})),document.querySelectorAll('.sort__item input[type="checkbox"]').forEach(function(e){e.addEventListener("change",function(){y(".sort__card",".sort__block",".sort__quantity span")})}),y(".sort__card",".sort_block",".sort__quantity span"),document.querySelectorAll("[data-filter-block]").forEach(e=>{let t=e.querySelectorAll(".filter-select"),o=e.querySelectorAll(".filter-card"),n=e.querySelector(".quantity span");function l(){let e=0;o.forEach(o=>{let n=!0;t.forEach(e=>{var t=e.getAttribute("data-filter-type"),e=e.value,t=o.getAttribute("data-"+t);"all"!==e&&e!==t&&(n=!1)}),o.style.display=n?"":"none",n&&e++}),n&&(n.textContent=e)}t.forEach(e=>{e.addEventListener("change",l)}),l()}),setTimeout(p,100);e=document.getElementById("searchInput");e&&e.addEventListener("input",function(){let t=this.value.toLowerCase();document.querySelectorAll(".search-page-item").forEach(function(e){e.querySelector(".search-page-name").textContent.toLowerCase().includes(t)?e.style.display="":e.style.display="none"}),p(),v()}),document.querySelectorAll(".btn-more").forEach(o=>{if(o){let t=o.previousElementSibling;if(t.scrollHeight<=t.clientHeight)o.style.display="none";else{let e=o.innerHTML;o.addEventListener("click",function(){t.style.maxHeight;this.classList.toggle("active"),t.style.maxHeight?(t.style.maxHeight=null,this.textContent=e):(t.style.maxHeight=t.scrollHeight+"px",this.textContent="Свернуть")})}}}),document.querySelectorAll(".footer__nav_acc").forEach(t=>{t&&t.addEventListener("click",function(){var e=t.nextElementSibling;e.classList.toggle("active"),this.classList.toggle("active"),e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px"})});document.querySelectorAll(".is-scroll-up").forEach(e=>{e&&e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})})});e=document.querySelectorAll(".medicament__block");let g=document.querySelector(".medicament__letters");function v(){var e=document.querySelectorAll(".medicament__block");e&&e.forEach(e=>{var t=e.querySelector("ul"),t=Array.from(t.children).some(e=>"none"!==e.style.display);e.style.display=t?"":"none"})}if(e.forEach(t=>{var e=t.querySelector("p").textContent.trim(),o=document.createElement("button");o.textContent=e,o.classList.add("letter-button"),o.addEventListener("click",()=>{var e=document.getElementById("header").offsetHeight-document.querySelector(".header__plashka").offsetHeight+10,e=t.getBoundingClientRect().top+window.scrollY-e;window.scrollTo({top:e,behavior:"smooth"})}),g.appendChild(o)}),v(),document.querySelector(".navigation")){e=document.querySelectorAll(".text-block h2, .text-block h3, .text-block h4, .text-block h5");let l=document.querySelector(".navigation__list"),c=null,s=null;e.forEach((e,t)=>{var o=e.tagName,n=e.textContent,e=(e.id="heading-"+t,document.createElement("a")),t=(e.href="#heading-"+t,e.className="navigation__link",e.textContent=n,document.createElement("li"));if(t.className="navigation__item nav-title-"+o.toLowerCase(),t.appendChild(e),"H2"===o){c=t;let e=document.createElement("button");e.className="toggle-sublist",e.onclick=function(){e.closest(".navigation__item").querySelector(".navigation__sublist").classList.toggle("open"),e.classList.toggle("open")},t.appendChild(e),(s=document.createElement("ul")).className="navigation__sublist",t.appendChild(s),l.appendChild(t)}else c&&s&&s.appendChild(t)}),document.querySelectorAll('.navigation__link[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();e=this.getAttribute("href").substring(1),e=document.getElementById(e).getBoundingClientRect().top+window.scrollY-130;window.scrollTo({top:e,behavior:"smooth"})})})}}),document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".header__submenu_search-input");let t=document.querySelector(".header__submenu_tab-btns");document.querySelectorAll(".header__tab-content_item");let l=document.querySelectorAll(".header__submenu_tab-content"),c=document.querySelector(".header__submenu_tab-contents"),s=document.querySelector(".no-results-msg");e.addEventListener("input",function(){let n=this.value.trim().toLowerCase();if(""!==n){t.style.display="none",c.classList.add("search-active");let o=!1;l.forEach(e=>{let t=!1;e.querySelectorAll(".header__tab-content_item").forEach(e=>{e.textContent.toLowerCase().includes(n)?(e.parentElement.style.display="block",t=!0,o=!0):e.parentElement.style.display="none"}),e.style.display=t?"contents":"none"}),s.style.display=o?"none":"block"}else t.style.display="",c.classList.remove("search-active"),l.forEach(e=>{e.style.display="",e.querySelectorAll(".header__tab-content_item").forEach(e=>{e.parentElement.style.display="block"})}),s.style.display="none"})});
//# sourceMappingURL=main.js.map
